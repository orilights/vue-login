import{d as x,u as b,a as v,r as i,c as _,b as s,l as d,m as c,v as p,g as F,w as f,F as h,j as a,k,h as w,i as B}from"./index.86d8df17.js";import{U as y,g as C}from"./index.68bb0acf.js";const L=s("p",{class:"text-center font-semibold text-xl mb-6"},"\u7528\u6237\u767B\u5F55",-1),V={class:"my-4"},N={class:"my-4"},U={class:"button-group mt-6 flex justify-center"},D=s("button",{class:"transition-colors px-4 py-1 mr-2 border-black border rounded-lg hover:bg-black hover:text-white"},"\u6CE8\u518C",-1),A=x({__name:"Login",setup(R){const t=b(),r=v(),o=i(""),n=i("");async function m(){t.networkLoading=!0;const e=await y(o.value,n.value);e.code==0?(r.clear(),r.success("\u767B\u5F55\u6210\u529F"),t.login=!0,t.userId=o.value,t.userName=e.msg,a.set("login","1",{expires:7}),a.set("userid",o.value,{expires:7}),a.set("username",e.msg,{expires:7}),a.set("token",C(30),{expires:7}),k.push("/home")):(e.code=2)?r.warning(e.msg):(e.code=3)&&r.error(e.msg),t.networkLoading=!1}return(e,u)=>{const g=w("RouterLink");return B(),_(h,null,[L,s("p",V,[d("\u8D26\u53F7\uFF1A "),c(s("input",{class:"border px-1 rounded-md",type:"text",placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7","onUpdate:modelValue":u[0]||(u[0]=l=>o.value=l)},null,512),[[p,o.value]])]),s("p",N,[d("\u5BC6\u7801\uFF1A "),c(s("input",{class:"border px-1 rounded-md",type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","onUpdate:modelValue":u[1]||(u[1]=l=>n.value=l)},null,512),[[p,n.value]])]),s("div",U,[s("button",{class:"transition-colors px-4 py-1 mr-2 border-black border rounded-lg hover:bg-black hover:text-white",onClick:m},"\u767B\u5F55"),F(g,{to:"/register"},{default:f(()=>[D]),_:1})])],64)}}});export{A as default};
