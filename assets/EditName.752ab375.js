import{d as c,u as d,a as i,r as m,c as p,b as s,l as h,m as b,v,g,w as _,F as f,h as k,i as x,j as F,k as w}from"./index.86d8df17.js";import{b as N}from"./index.68bb0acf.js";const B={class:"my-4"},E=s("button",{class:"transition-colors px-4 py-1 mr-2 border-black border rounded-lg hover:bg-black hover:text-white"},"\u53D6\u6D88",-1),D=c({__name:"EditName",setup(C){const o=d(),a=i(),e=m("");e.value=o.userName;async function u(){if(e.value=="")return a.warning("\u65B0\u6635\u79F0\u4E0D\u53EF\u4E3A\u7A7A"),0;o.networkLoading=!0;const t=await N(o.userId,e.value);t.code==0?(a.success(t.msg),o.userName=e.value,F.set("username",e.value),w.push("/home")):(t.code=3)&&a.error(t.msg),o.networkLoading=!1}return(t,r)=>{const n=k("RouterLink");return x(),p(f,null,[s("p",B,[h("\u65B0\u6635\u79F0\uFF1A "),b(s("input",{class:"border px-1 rounded-md",type:"text",placeholder:"\u8BF7\u8F93\u5165\u65B0\u6635\u79F0","onUpdate:modelValue":r[0]||(r[0]=l=>e.value=l)},null,512),[[v,e.value]])]),s("button",{class:"transition-colors px-4 py-1 mr-2 border-black border rounded-lg hover:bg-black hover:text-white",onClick:u},"\u4FEE\u6539"),g(n,{to:"/home"},{default:_(()=>[E]),_:1})],64)}}});export{D as default};
